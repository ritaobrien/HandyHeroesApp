<!-- app/views/tasks/pending.html.erb -->
<div class="background-cover">
  <div class="container-fluid tasks">
    <h1>Available Pending Tasks</h1>

    <% if @tasks.present? %>
      <table class="table table-bordered table-hover">
        <thead class="thead">
          <tr class="text-center">
            <th>Task Type</th>
            <th>Category</th>
            <th>Description</th>
            <th>Status</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @tasks.each do |task| %>
            <tr>
              <td><%= task.task_type %></td>
              <td><%= task.task_category %></td>
              <td><%= task.description.present? ? task.description : "No description provided" %></td>
              <td><%= task.status.present? ? task.status : "No status" %></td>
              <td class="text-center">
                <%= button_to "Accept Task", accept_task_path(task), method: :patch, class: "btn btn-success btn-sm", data: { confirm: "Are you sure you want to accept this task?" } %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p>No pending tasks available at the moment.</p>
    <% end %>
  </div>
</div>
